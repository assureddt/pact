version: '3.5'

services:
  portainer:
    container_name: portainer
    image: portainer/portainer:latest
    ports:
      - "9000:9000"
    volumes:
      - "/var/run/docker.sock:/var/run/docker.sock"
      - "portainer_data:/data"
    restart: always
    networks:
      - pact

  redis:
    container_name: redis
    image: redis:latest
    ports:
      - "6379:6379"
    command: redis-server --appendonly yes
    restart: always
    networks:
      - pact

  redis-commander:
    container_name: redis-commander
    image: rediscommander/redis-commander:latest
    ports:
      - "8081:8081"
    environment:
      - REDIS_HOSTS=dl:redis:6379
    depends_on:
      - redis
    restart: always
    networks:
      - pact

  seq:
    container_name: seq
    image: datalust/seq:latest
    environment:
      - ACCEPT_EULA=Y
    ports:
      - "5341:80"
    volumes:
      - seq_data:/data
    restart: always
    networks:
      - pact

volumes:
  portainer_data:
  seq_data:

networks:
  pact:
    name: pact
